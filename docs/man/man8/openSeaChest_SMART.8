.\" DO NOT MODIFY THIS FILE!  It was generated by help2man 1.47.6.
.TH VERSION "8" "December 2023" "Version Info for openSeaChest_SMART:" "System Administration Utilities"
.SH NAME
Version \- =drive utilities
.SH DESCRIPTION
==========================================================================================
.IP
openSeaChest_SMART \- openSeaChest drive utilities \- NVMe Enabled
Copyright (c) 2014\-2023 Seagate Technology LLC and/or its Affiliates, All Rights Reserved
openSeaChest_SMART Version: 2.3.2\-6_2_0 X86_64
Build Date: Dec  1 2023
Today: Fri Dec  1 15:18:15 2023        User: current user
.PP
==========================================================================================
Usage
=====
.IP
openSeaChest_SMART [\-d <sg_device>] {arguments} {options}
.PP
Examples
========
.IP
openSeaChest_SMART \fB\-\-scan\fR
openSeaChest_SMART \fB\-d\fR /dev/sg<#> \fB\-i\fR
openSeaChest_SMART \fB\-d\fR /dev/sg<#> \fB\-\-SATInfo\fR
openSeaChest_SMART \fB\-d\fR /dev/sg<#> \fB\-\-llInfo\fR
openSeaChest_SMART \fB\-d\fR /dev/sg<#> \fB\-\-smartCheck\fR
openSeaChest_SMART \fB\-d\fR /dev/sg<#> \fB\-\-shortDST\fR \fB\-\-captive\fR
openSeaChest_SMART \fB\-d\fR /dev/sg<#> \fB\-\-conveyanceDST\fR \fB\-\-poll\fR
openSeaChest_SMART \fB\-d\fR /dev/sg<#> \fB\-\-longDST\fR \fB\-\-poll\fR
openSeaChest_SMART \fB\-d\fR /dev/sg<#> \fB\-\-idd\fR short
openSeaChest_SMART \fB\-d\fR /dev/sg<#> \fB\-\-idd\fR long \fB\-\-captive\fR
openSeaChest_SMART \fB\-d\fR /dev/sg<#> \fB\-\-abortDST\fR
openSeaChest_SMART \fB\-d\fR /dev/sg<#> \fB\-\-showDSTLog\fR
openSeaChest_SMART \fB\-d\fR /dev/sg<#> \fB\-\-smartAttributes\fR hybrid
openSeaChest_SMART \fB\-d\fR /dev/sg<#> \fB\-\-showNvmeHealth\fR
openSeaChest_SMART \fB\-d\fR /dev/sg<#> \fB\-\-deviceStatistics\fR
openSeaChest_SMART \fB\-d\fR /dev/sg<#> \fB\-\-smartFeature\fR enable
openSeaChest_SMART \fB\-d\fR /dev/sg<#> \fB\-\-setMRIE\fR 6
openSeaChest_SMART \fB\-d\fR /dev/sg<#> \fB\-\-smartInfo\fR
openSeaChest_SMART \fB\-d\fR /dev/sg<#> \fB\-\-smartAttributeAutosave\fR disable
openSeaChest_SMART \fB\-d\fR /dev/sg<#> \fB\-\-smartAutoOffline\fR enable
openSeaChest_SMART \fB\-d\fR /dev/sg<#> \fB\-\-showSMARTErrorLog\fR comprehensive
openSeaChest_SMART \fB\-d\fR /dev/sg<#> \fB\-\-showSMARTErrorLog\fR summary \fB\-\-smartErrorLogFormat\fR raw
openSeaChest_SMART \fB\-d\fR /dev/sg<#> \fB\-\-showSCSIDefects\fR g \fB\-\-defectFormat\fR bfi
openSeaChest_SMART \fB\-d\fR /dev/sg<#> \fB\-\-dstAndClean\fR \fB\-\-errorLimit\fR 40
.PP
Return codes
============
.IP
Generic/Common exit codes
0 = No Error Found
1 = Error in command line options
2 = Invalid Device Handle or Missing Device Handle
3 = Operation Failure
4 = Operation not supported
5 = Operation Aborted
6 = File Path Not Found
7 = Cannot Open File
8 = File Already Exists
9 = Need Elevated Privileges
Anything else = unknown error
.PP
Utility Options
===============
.HP
\fB\-\-echoCommandLine\fR
.IP
Echo the command line entered into the utility on the screen.
.HP
\fB\-\-enableLegacyUSBPassthrough\fR
.IP
Only use this option on old USB or IEEE1394 (Firewire)
products that do not otherwise work with the tool.
This option will enable a trial and error method that
attempts sending various ATA Identify commands through
vendor specific means. Because of this, certain products
that may respond in unintended ways since they may interpret
these commands differently than the bridge chip the command
was designed for.
.HP
\fB\-\-forceATA\fR
.IP
Using this option will force the current drive to
be treated as a ATA drive. Only ATA commands will
be used to talk to the drive.
.TP
\fB\-\-forceATADMA\fR
(SATA Only)
.IP
Using this option will force the tool to issue SAT
commands to ATA device using the protocol set to DMA
whenever possible (on DMA commands).
This option can be combined with \fB\-\-forceATA\fR
.TP
\fB\-\-forceATAPIO\fR
(SATA Only)
.IP
Using this option will force the tool to issue PIO
commands to ATA device when possible. This option can
be combined with \fB\-\-forceATA\fR
.TP
\fB\-\-forceATAUDMA\fR
(SATA Only)
.IP
Using this option will force the tool to issue SAT
commands to ATA device using the protocol set to UDMA
whenever possible (on DMA commands).
This option can be combined with \fB\-\-forceATA\fR
.HP
\fB\-\-forceSCSI\fR
.IP
Using this option will force the current drive to
be treated as a SCSI drive. Only SCSI commands will
be used to talk to the drive.
.HP
\fB\-\-forceNVME\fR
.IP
Using this option will force the current drive to
be treated as a NVME drive. Only NVME commands will
be used to talk to the drive.
.HP
\fB\-h\fR, \fB\-\-help\fR
.IP
Show utility options and example usage (this output you see now)
Please report bugs/suggestions to seaboard@seagate.com.
Include the output of \fB\-\-version\fR information in the email.
.HP
\fB\-\-license\fR
.IP
Display the Seagate End User License Agreement (EULA).
.HP
\fB\-\-modelMatch\fR [model Number]
.IP
Use this option to run on all drives matching the provided
model number. This option will provide a closest match although
an exact match is preferred. Ex: ST500 will match ST500LM0001
.HP
\fB\-\-onlyFW\fR [firmware revision]
.IP
Use this option to run on all drives matching the provided
firmware revision. This option will only do an exact match.
.HP
\fB\-\-noTimeLimit\fR
.IP
Use with utility command arguments which have a built in timeout
value. For example, \fB\-\-shortDST\fR has a 10 minute default
timeout. In some cases a good drive may need more time to
complete the test due to other legitimate system activity.
.HP
\fB\-\-noBanner\fR
.IP
Use this option to suppress the text banner that displays each time
openSeaChest is run.
.HP
\fB\-\-onlySeagate\fR
.IP
Use this option to match only Seagate drives for the options
provided
.HP
\fB\-q\fR, \fB\-\-quiet\fR
.IP
Run openSeaChest_SMART in quiet mode. This is the same as
\fB\-v\fR 0 or \fB\-\-verbose\fR 0
.HP
\fB\-v\fR [0\-4], \fB\-\-verbose\fR [0 | 1 | 2 | 3 | 4]
.IP
Show verbose information. Verbosity levels are:
0 \- quiet
1 \- default
2 \- command descriptions
3 \- command descriptions and values
4 \- command descriptions, values, and data buffers
Example: \fB\-v\fR 3 or \fB\-\-verbose\fR 3
.HP
\fB\-V\fR, \fB\-\-version\fR
.IP
Show openSeaChest_SMART version and copyright information & exit
.PP
Utility Arguments
=================
.HP
\fB\-d\fR, \fB\-\-device\fR [deviceHandle | all]
.IP
Use this option with most commands to specify the device
handle on which to perform an operation. Example: /dev/sg<#>
To run across all devices detected in the system, use the
"all" argument instead of a device handle.
Example: \fB\-d\fR all
NOTE: The "all" argument is handled by running the
.TP
specified options on each drive detected in the
OS sequentially. For parallel operations, please
use a script opening a separate instance for each
device handle.
.HP
\fB\-F\fR, \fB\-\-scanFlags\fR [option list]
.IP
Use this option to control the output from scan with the
options listed below. Multiple options can be combined.
.TP
ata \- show only ATA (SATA) devices
usb \- show only USB devices
scsi \- show only SCSI (SAS) devices
nvme \- show only NVMe devices
interfaceATA \- show devices on an ATA interface
interfaceUSB \- show devices on a USB interface
interfaceSCSI \- show devices on a SCSI or SAS interface
interfaceNVME = show devices on an NVMe interface
sd \- show sd device handles
sgtosd \- show the sd and sg device handle mapping
.HP
\fB\-i\fR, \fB\-\-deviceInfo\fR
.IP
Show information and features for the storage device
.HP
\fB\-\-llInfo\fR
.IP
Dump low\-level information about the device to assist with debugging.
.HP
\fB\-\-poll\fR
.IP
Use this option to cause another operation to poll for progress
until it has completed.  This argument does not return to the
command prompt and prints ongoing completion percentages (%)
.TP
the final test result.
Full drive procedures will take a
.TP
very long time.
Used with \fB\-\-sanitize\fR, or \fB\-\-writeSame\fR (SATA).
.HP
\fB\-\-progress\fR [dst, idd]
.IP
Get the progress for a test that was started quietly without
the polling option (default). You must specify a test you wish to
get progress from. Ex: "\-\-progress dst" or "\-\-progress sanitize"
The progress counts up from 0% to 100%.
.HP
\fB\-s\fR, \fB\-\-scan\fR
.IP
Scan the system and list all storage devices with logical
/dev/sg<#> assignments. Shows model, serial and firmware
numbers.  If your device is not listed on a scan  immediately
after booting, then wait 10 seconds and run it again.
.HP
\fB\-S\fR, \fB\-\-Scan\fR
.IP
This option is the same as \fB\-\-scan\fR or \fB\-s\fR,
however it will also perform a low level rescan to pick up
other devices. This low level rescan may wake devices from low
power states and may cause the OS to re\-enumerate them.
Use this option when a device is plugged in and not discovered in
a normal scan.
NOTE: A low\-level rescan may not be available on all interfaces or
all OSs. The low\-level rescan is not guaranteed to find additional
devices in the system when the device is unable to come to a ready state.
.HP
\fB\-\-SATInfo\fR
.IP
Displays SATA device information on any interface
using both SCSI Inquiry / VPD / Log reported data
(translated according to SAT) and the ATA Identify / Log
reported data.
.HP
\fB\-\-testUnitReady\fR
.IP
Issues a SCSI Test Unit Ready command and displays the
status. If the drive is not ready, the sense key, asc,
ascq, and fru will be displayed and a human readable
translation from the SPC spec will be displayed if one
is available.
.HP
\fB\-\-fastDiscovery\fR
.TP
Use this option
to issue a fast scan on the specified drive.
.HP
\fB\-\-abortDST\fR
.IP
Abort a diagnostic Drive Self Test that is in progress.
.HP
\fB\-\-abortIDD\fR (Seagate Only)
.IP
Abort a Seagate In Drive Diagnostic (IDD) that is in progress.
This may return failure if IDD is not running or has already
completed running.
.HP
\fB\-\-captive\fR or \fB\-\-foreground\fR
.IP
Use this option to run a DST operation in captive/foreground
mode. This mode may allow a device to test more of itself and
may be slightly faster than offline/background mode since it does
not need to service additional command during the test.
When using this mode, the utility must wait the entire time for
the DST to complete and progress cannot be indicated during this time.
.HP
\fB\-\-conveyanceDST\fR
.IP
Execute a conveyance diagnostic drive self test. A conveyance
test can be used to check if a drive has incurred handling damage.
This test can take up to 2 minutes to complete. Use the \fB\-\-poll\fR
argument to make this operation poll for progress until complete.
Use the \fB\-\-progress\fR dst command to check on the completion
percentage (%) and test result.
NOTE: conveyance DST may take longer if there is other disk usage
while the DST is running. If the DST takes longer than 10 minutes
it will automatically be aborted while polling for progress.
To override this behavior, use the \fB\-\-noTimeLimit\fR option.
.HP
\fB\-\-deviceStatistics\fR
.IP
Use this option to display the device statistics reported
by the device. On SATA, this uses the Device Statistics
log, and the notifications log (if DSN feature is supported)
to display these statistics. On SAS, various log pages are
read to collect a bunch of reported parameter information.
.HP
\fB\-\-errorLimit\fR [limit in number of LBAs]
.IP
Use this option to specify a different error
limit for a user generic or long generic read
test or DST and Clean. This must be a number of
.IP
logical LBAs to have errors. If a drive has multiple
logical sectors per physical sector, this number will
.IP
be adjusted for you to reflect the drive
architecture.
.TP
\fB\-\-idd\fR [short | long]
(Seagate Only)
.IP
Start an In Drive Diagnostic (IDD) test on a Seagate
drive. Not all tests are supported by all products. If a
selected test is not supported, the utility will return
a error code meaning "not supported".
Short:  Reset and Recalibration test. Be careful running this
.IP
test on the boot device.
.TP
Long:
Reset and Recalibration test and test G list and
P list
.TP
Note: the \fB\-\-captive\fR option can be added to run the long test in
foreground/captive mode. This allows for G\-list healing
and some additional checks to be performed. This may not
work on some products.
.TP
Note: Progress cannot be checked for the first 2 minutes of IDD.
The drive is busy with the test and is not able to respond.
Attempting to retrieve progress during this time will hang and
may cause the IDD to abort due to the host issuing resets to
recover access to the drive.
.HP
\fB\-\-longDST\fR
.IP
Execute a long diagnostic drive self test. This test takes
hours to complete.  A 2TB drive may take six (6) hours to
complete. Use with the \fB\-\-poll\fR argument to let SeaChest check
for progress and print it to the screen until complete.
Use the \fB\-\-progress\fR dst command to check on the completion
percentage(%) and test result.
This test stops on the first error. Use \fB\-\-abortDST\fR
to manually stop the test. SAS drives give status in 1%
increments. SATA drives give status in 10% increments which
means more than an hour may elapse between updates on a SATA
drive > 2TB.
.IP
If the \fB\-\-longDST\fR poll option is running and you want to abort
the test then you will need to open a second terminal window
and run the \fB\-\-abortDST\fR command. Otherwise, it is safe to
restart the system while long DST is running which also ends the
test.
NOTE: Long DST may take longer if there is other disk usage
while the DST is running. If the DST takes longer than 5x the
drive reported time, it will automatically be aborted while
polling for progress.
To override this behavior, use the\-\-noTimeLimit option.
.HP
\fB\-\-shortDST\fR
.IP
Execute a short diagnostic drive self test. This test can take
up to 2 minutes to complete. Use the \fB\-\-poll\fR argument to make
this operation poll for progress until complete. Use the
\fB\-\-progress\fR dst command to check on the completion percentage
(%) and test result.
NOTE: Short DST may take longer if there is other disk usage
while the DST is running. If the DST takes longer than 10 minutes
it will automatically be aborted while polling for progress.
To override this behavior, use the \fB\-\-noTimeLimit\fR option.
.HP
\fB\-\-showDSTLog\fR
.IP
This option will show the entries in the DST log.
Up to 21 entries may be shown (pending drive support)
and will be shown with the most recent entry first.
.HP
\fB\-\-smartCheck\fR
.IP
Perform a SMART check on a device to see if any internal
thresholds have been tripped or if the drive is still operating
within specification.
.TP
\fB\-\-smartFeature\fR [ enable | disable ]
(SATA Only)
.IP
Use this option to enable or disable the SMART
feature on a SATA drive.
Note: This command is declared obsolete in ACS4.
.IP
SATA Only:
=========
\fB\-\-smartAttributes\fR [raw | hybrid | analyzed]     (SATA Only)
.IP
The drive will display its list of supported SMART attributes.
Some attributes names are commonly standard and most others are
vendor unique. In either case, the attribute thresholds are
always vendor unique. Most attributes are informational and not
used to determine a warranty return. Use the \fB\-\-smartCheck\fR
command to determine if one of the warranty attributes has been
tripped. Seagate Support does not help to analyze SMART
attributes.
Output modes:
.IP
raw \- All hex output for those that need every single bit.
hybrid \- classic table view with some interpretation of some
.TP
fields. Partial raw interpretation, but not all drive
and firmware combinations are supported.
.TP
analyzed \- a full breakdown of all parts of each individual
attribute's data. Full raw data interpretation only
available on select devices.
.IP
NOTE: Migration to device statistics is recommended.
.TP
\fB\-\-smartAttributeAutosave\fR [ enable | disable ]
(SATA Only)
.IP
Use this option to enable or disable SMART
attribute auto\-save on an ATA drive.
Note: This command is declared obsolete in ACS4.
.TP
\fB\-\-smartAutoOffline\fR [ enable | disable ]
(SATA Only)
.IP
Use this option to enable or disable SMART
auto\-off\-line feature on an ATA drive.
.HP
\fB\-\-showSMARTErrorLog\fR [ summary | comprehensive ] (SATA Only)
.IP
This option will display the ATA SMART Error log on the screen.
Use "summary" to view the summary SMART error log (last 5 entries)
Use "comprehensive" to view all the entires the drive has available.
Specifying "comprehensive" will automatically pull the ext error log
on drives that support 48bit LBAs.
Note: The summary error log will truncate 48bit commands, so some information
.IP
will be missing to describe the operation of certain commands.
.TP
\fB\-\-smartErrorLogFormat\fR [ raw | detailed ]
(SATA Only)
.IP
Use this option to change the format of the output from the \fB\-\-showSMARTErrorLog\fR
option. The default mode is "detailed"
.HP
\fB\-\-smartInfo\fR (SATA Only)
.IP
This option will show SMART information reported
by a given device.
.IP
SAS Only:
=========
\fB\-\-defectFormat\fR [ # | shortBlock | longBlock | xbfi | xchs | bfi | chs ] (SAS Only)
.IP
This option set the format of the defects to output.
Not all drives will support all defect modes!
SSDs will only support block modes!
Arguments: (name | #)
.IP
shortBlock | 0 \- show the defects in short block address mode (drives < 32bit LBA)
xbfi       | 1 \- show the defects in extended bytes from index mode
xchs       | 2 \- show the defects in extended physical cylinder\-head\-sector mode
longBlock  | 3 \- show the defects in long block address mode (drives > 32bit LBA)
bfi        | 4 \- show the defects in bytes from index mode
chs        | 5 \- show the defects in physical cylinder\-head\-sector mode
.TP
\fB\-\-setMRIE\fR [ default | 0 \- 6 ]
(SAS Only)
.IP
Use this option to change the MRIE mode on the informational
exceptions mode page.
.TP
default \- set to the drive default
0 \- disable exception reporting
1 \- Asynchronous reporting (obsolete)
2 \- Establish unit attention condition
3 \- Conditionally generate recovered error
4 \- Unconditionally generate recovered error
5 \- Generate no sense
6 \- Report on request
.TP
WARNING: Changing MRIE may affect all LUNs/namespaces for devices
with multiple logical units or namespaces.
.TP
\fB\-\-showSCSIDefects\fR [ p | g | pg ]
(SAS Only)
.IP
This option will display the SCSI defects on the screen.
The arguments to this will tell whether to get the grown,
primary, or primary and grown defects from the drive.
Use the \fB\-\-defectFormat\fR option to specify the mode to display the defects.
If no mode is specified, physical cylinder\-head\-sector mode is assumed
Arguments:
.IP
p \- use this option to pull and display the primary (factory) defects
g \- use this option to pull and display the grown (reallocated) defects
.IP
The above options can be combined to pull and display both defect lists.
.IP
NVMe Only:
=========
\fB\-\-showNvmeHealth\fR        (NVMe Only)
.IP
The drive will display the NVMe Health log (also called
SMART log). All standardized fields will be printed to the
screen for the device.
.PP
Data Destructive Commands
=========================
.HP
\fB\-\-dstAndClean\fR
.IP
Runs DST, then checks for an error and repairs the
error if possible. This continues until all errors
reported by DST are fixed, or when the error limit is
reached. The default limit is 50 errors.
.IP
Utility Version: 2.3.2
opensea\-common Version: 2.0.0
opensea\-transport Version: 6.2.0
opensea\-operations Version: 5.1.1
Build Date: Dec  1 2023
Compiled Architecture: X86_64
Detected Endianness: Little Endian
Compiler Used: GCC
Compiler Version: 7.5.0
Operating System Type: Linux
Operating System Version: 4.15.0\-211
Operating System Name: Ubuntu 18.04.6 LTS
