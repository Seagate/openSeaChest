.\" DO NOT MODIFY THIS FILE!  It was generated by help2man 1.47.6.
.TH VERSION "8" "December 2023" "Version Info for openSeaChest_PowerControl:" "System Administration Utilities"
.SH NAME
Version \- =drive utilities
.SH DESCRIPTION
==========================================================================================
.IP
openSeaChest_PowerControl \- openSeaChest drive utilities \- NVMe Enabled
Copyright (c) 2014\-2023 Seagate Technology LLC and/or its Affiliates, All Rights Reserved
openSeaChest_PowerControl Version: 3.4.0\-6_2_0 X86_64
Build Date: Dec  1 2023
Today: Fri Dec  1 15:18:14 2023        User: current user
.PP
==========================================================================================
Usage
=====
.IP
openSeaChest_PowerControl [\-d <sg_device>] {arguments} {options}
.PP
Examples
========
.IP
openSeaChest_PowerControl \fB\-\-scan\fR
openSeaChest_PowerControl \fB\-d\fR /dev/sg<#> \fB\-i\fR
openSeaChest_PowerControl \fB\-d\fR /dev/sg<#> \fB\-\-SATInfo\fR
openSeaChest_PowerControl \fB\-d\fR /dev/sg<#> \fB\-\-llInfo\fR
openSeaChest_PowerControl \fB\-d\fR /dev/sg<#> \fB\-\-checkPowerMode\fR
openSeaChest_PowerControl \fB\-d\fR /dev/sg<#> \fB\-\-showEPCSettings\fR
openSeaChest_PowerControl \fB\-d\fR /dev/sg<#> \fB\-\-idle_a\fR 5000
openSeaChest_PowerControl \fB\-d\fR /dev/sg<#> \fB\-\-idle_b\fR disable
openSeaChest_PowerControl \fB\-d\fR /dev/sg<#> \fB\-\-transitionPower\fR standby_z
openSeaChest_PowerControl \fB\-d\fR /dev/sg<#> \fB\-\-spinDown\fR
openSeaChest_PowerControl \fB\-d\fR /dev/sg<#> \fB\-\-transitionPowerState\fR 1
openSeaChest_PowerControl \fB\-d\fR /dev/sg<#> \fB\-\-showNVMPowerStates\fR
openSeaChest_PowerControl \fB\-d\fR /dev/sg<#> \fB\-\-idle_a\fR 5000 \fB\-\-standby_z\fR 30000 \fB\-\-idle_b\fR enable \fB\-\-idle_c\fR disable
openSeaChest_PowerControl \fB\-d\fR /dev/sg<#> \fB\-\-showPowerTelemetry\fR
openSeaChest_PowerControl \fB\-d\fR /dev/sg<#> \fB\-\-requestPowerMeasurement\fR 120 \fB\-\-powerMeasurementMode\fR 12
openSeaChest_PowerControl \fB\-d\fR /dev/sg<#> \fB\-\-EPCfeature\fR enable
openSeaChest_PowerControl \fB\-d\fR /dev/sg<#> \fB\-\-standby\fR 15000
openSeaChest_PowerControl \fB\-d\fR /dev/sg<#> \fB\-\-idle\fR 5000
openSeaChest_PowerControl \fB\-d\fR /dev/sg<#> \fB\-\-showAPMLevel\fR
openSeaChest_PowerControl \fB\-d\fR /dev/sg<#> \fB\-\-setAPMLevel\fR 128
openSeaChest_PowerControl \fB\-d\fR /dev/sg<#> \fB\-\-showPowerConsumption\fR
openSeaChest_PowerControl \fB\-d\fR /dev/sg<#> \fB\-\-setPowerConsumption\fR 12
openSeaChest_PowerControl \fB\-d\fR /dev/sg<#> \fB\-\-setPowerConsumption\fR lowest
.PP
Return codes
============
.IP
Generic/Common exit codes
0 = No Error Found
1 = Error in command line options
2 = Invalid Device Handle or Missing Device Handle
3 = Operation Failure
4 = Operation not supported
5 = Operation Aborted
6 = File Path Not Found
7 = Cannot Open File
8 = File Already Exists
9 = Need Elevated Privileges
Anything else = unknown error
.PP
Utility Options
===============
.HP
\fB\-\-echoCommandLine\fR
.IP
Echo the command line entered into the utility on the screen.
.HP
\fB\-\-enableLegacyUSBPassthrough\fR
.IP
Only use this option on old USB or IEEE1394 (Firewire)
products that do not otherwise work with the tool.
This option will enable a trial and error method that
attempts sending various ATA Identify commands through
vendor specific means. Because of this, certain products
that may respond in unintended ways since they may interpret
these commands differently than the bridge chip the command
was designed for.
.HP
\fB\-\-forceATA\fR
.IP
Using this option will force the current drive to
be treated as a ATA drive. Only ATA commands will
be used to talk to the drive.
.TP
\fB\-\-forceATADMA\fR
(SATA Only)
.IP
Using this option will force the tool to issue SAT
commands to ATA device using the protocol set to DMA
whenever possible (on DMA commands).
This option can be combined with \fB\-\-forceATA\fR
.TP
\fB\-\-forceATAPIO\fR
(SATA Only)
.IP
Using this option will force the tool to issue PIO
commands to ATA device when possible. This option can
be combined with \fB\-\-forceATA\fR
.TP
\fB\-\-forceATAUDMA\fR
(SATA Only)
.IP
Using this option will force the tool to issue SAT
commands to ATA device using the protocol set to UDMA
whenever possible (on DMA commands).
This option can be combined with \fB\-\-forceATA\fR
.HP
\fB\-\-forceSCSI\fR
.IP
Using this option will force the current drive to
be treated as a SCSI drive. Only SCSI commands will
be used to talk to the drive.
.HP
\fB\-\-forceNVME\fR
.IP
Using this option will force the current drive to
be treated as a NVME drive. Only NVME commands will
be used to talk to the drive.
.HP
\fB\-h\fR, \fB\-\-help\fR
.IP
Show utility options and example usage (this output you see now)
Please report bugs/suggestions to seaboard@seagate.com.
Include the output of \fB\-\-version\fR information in the email.
.HP
\fB\-\-license\fR
.IP
Display the Seagate End User License Agreement (EULA).
.HP
\fB\-\-modelMatch\fR [model Number]
.IP
Use this option to run on all drives matching the provided
model number. This option will provide a closest match although
an exact match is preferred. Ex: ST500 will match ST500LM0001
.HP
\fB\-\-noBanner\fR
.IP
Use this option to suppress the text banner that displays each time
openSeaChest is run.
.HP
\fB\-\-onlyFW\fR [firmware revision]
.IP
Use this option to run on all drives matching the provided
firmware revision. This option will only do an exact match.
.HP
\fB\-\-onlySeagate\fR
.IP
Use this option to match only Seagate drives for the options
provided
.HP
\fB\-q\fR, \fB\-\-quiet\fR
.IP
Run openSeaChest_PowerControl in quiet mode. This is the same as
\fB\-v\fR 0 or \fB\-\-verbose\fR 0
.HP
\fB\-v\fR [0\-4], \fB\-\-verbose\fR [0 | 1 | 2 | 3 | 4]
.IP
Show verbose information. Verbosity levels are:
0 \- quiet
1 \- default
2 \- command descriptions
3 \- command descriptions and values
4 \- command descriptions, values, and data buffers
Example: \fB\-v\fR 3 or \fB\-\-verbose\fR 3
.HP
\fB\-V\fR, \fB\-\-version\fR
.IP
Show openSeaChest_PowerControl version and copyright information & exit
.PP
Utility Arguments
=================
.HP
\fB\-d\fR, \fB\-\-device\fR [deviceHandle | all]
.IP
Use this option with most commands to specify the device
handle on which to perform an operation. Example: /dev/sg<#>
To run across all devices detected in the system, use the
"all" argument instead of a device handle.
Example: \fB\-d\fR all
NOTE: The "all" argument is handled by running the
.TP
specified options on each drive detected in the
OS sequentially. For parallel operations, please
use a script opening a separate instance for each
device handle.
.HP
\fB\-F\fR, \fB\-\-scanFlags\fR [option list]
.IP
Use this option to control the output from scan with the
options listed below. Multiple options can be combined.
.TP
ata \- show only ATA (SATA) devices
usb \- show only USB devices
scsi \- show only SCSI (SAS) devices
nvme \- show only NVMe devices
interfaceATA \- show devices on an ATA interface
interfaceUSB \- show devices on a USB interface
interfaceSCSI \- show devices on a SCSI or SAS interface
interfaceNVME = show devices on an NVMe interface
sd \- show sd device handles
sgtosd \- show the sd and sg device handle mapping
.HP
\fB\-i\fR, \fB\-\-deviceInfo\fR
.IP
Show information and features for the storage device
.HP
\fB\-\-llInfo\fR
.IP
Dump low\-level information about the device to assist with debugging.
.HP
\fB\-s\fR, \fB\-\-scan\fR
.IP
Scan the system and list all storage devices with logical
/dev/sg<#> assignments. Shows model, serial and firmware
numbers.  If your device is not listed on a scan  immediately
after booting, then wait 10 seconds and run it again.
.HP
\fB\-S\fR, \fB\-\-Scan\fR
.IP
This option is the same as \fB\-\-scan\fR or \fB\-s\fR,
however it will also perform a low level rescan to pick up
other devices. This low level rescan may wake devices from low
power states and may cause the OS to re\-enumerate them.
Use this option when a device is plugged in and not discovered in
a normal scan.
NOTE: A low\-level rescan may not be available on all interfaces or
all OSs. The low\-level rescan is not guaranteed to find additional
devices in the system when the device is unable to come to a ready state.
.HP
\fB\-\-SATInfo\fR
.IP
Displays SATA device information on any interface
using both SCSI Inquiry / VPD / Log reported data
(translated according to SAT) and the ATA Identify / Log
reported data.
.HP
\fB\-\-testUnitReady\fR
.IP
Issues a SCSI Test Unit Ready command and displays the
status. If the drive is not ready, the sense key, asc,
ascq, and fru will be displayed and a human readable
translation from the SPC spec will be displayed if one
is available.
.HP
\fB\-\-fastDiscovery\fR
.TP
Use this option
to issue a fast scan on the specified drive.
.HP
\fB\-\-checkPowerMode\fR
.IP
Get the current power mode of a drive.
On SCSI devices, this will only work if the drive has
transitioned from active state to another state.
.HP
\fB\-\-EPCfeature\fR [enable | disable]
.IP
Enables or disables Extended Power Conditions (EPC) support for
devices. To disable EPC use \fB\-\-EPCfeature\fR disable. Note that the
EPC Feature Set is not supported on all devices.
Use \fB\-\-deviceInfo\fR option to see if EPC is supported.
.TP
WARNING: The EPC settings may affect all LUNs/namespaces for devices
with multiple logical units or namespaces.
.HP
\fB\-\-idle_a\fR [ enable | disable | default | timerValueMilliseconds ]
.TP
Use this setting to change the EPC Idle_A power mode settings.
enable  \- enable the power state
disable \- disable the power state
default \- restore default settings for this power state
timerValue \- number of milliseconds to set for the timer
.TP
used in this power state. If a timer is provided
the state will also be enabled, if not already.
EPC spec timers are set in 100 millisecond increments.
Timers will be truncated to fit 100 millisecond increments.
.TP
WARNING: EPC Settings may affect all LUNs/namespaces for devices
with multiple logical units or namespaces.
.HP
\fB\-\-idle_b\fR [ enable | disable | default | timerValueMilliseconds ]
.TP
Use this setting to change the EPC Idle_B power mode settings.
enable  \- enable the power state
disable \- disable the power state
default \- restore default settings for this power state
timerValue \- number of milliseconds to set for the timer
.TP
used in this power state. If a timer is provided
the state will also be enabled, if not already.
EPC spec timers are set in 100 millisecond increments.
Timers will be truncated to fit 100 millisecond increments.
.TP
WARNING: EPC Settings may affect all LUNs/namespaces for devices
with multiple logical units or namespaces.
.HP
\fB\-\-idle_c\fR [ enable | disable | default | timerValueMilliseconds ]
.TP
Use this setting to change the EPC Idle_C power mode settings.
enable  \- enable the power state
disable \- disable the power state
default \- restore default settings for this power state
timerValue \- number of milliseconds to set for the timer
.TP
used in this power state. If a timer is provided
the state will also be enabled, if not already.
EPC spec timers are set in 100 millisecond increments.
Timers will be truncated to fit 100 millisecond increments.
.TP
WARNING: EPC Settings may affect all LUNs/namespaces for devices
with multiple logical units or namespaces.
.TP
\fB\-\-powerMeasurementMode\fR [all | 5 | 12]
(Seagate Only)
.IP
Use this option along with \fB\-\-requestPowerMeasurement\fR to specify
which sources to measure power on for the requested time.
.IP
all \- measure all power sources
5   \- measure only the 5v power
12  \- measure only the 12v power
.TP
\fB\-\-requestPowerMeasurement\fR [seconds to perform measurement]
(Seagate Only)
.IP
This option is used to specify a time to perform a power
measurement for. The minimum measurement time is 22 seconds
and the maximum is 65535 seconds. If a time less than 22 seconds
is provided, 22 seconds will be used by the drive. A value greater
than 65535 will result in error.
Use the \fB\-\-powerMeasurementMode\fR option to specify which mode to measure.
.TP
\fB\-\-powerBalanceFeature\fR [ info | enable | disable | limited]
(Seagate Only)
.IP
Use this option to see the state of the Seagate Power Balance
feature or to change its state.
Seagate's PowerBalance feature will adjust drive performance during
random operations to reduce power consumption of the drive.
.IP
info \- will dump the state of the Power Balance feature on the screen
enable \- use this to enable Power Balance (lowest power consumption)
disable \- use this to disable Power Balance (hihgest power consumption)
limited \- 12w limited mode. Dual actuator SATA only
.IP
Note: While this feature is available on some SAS products,
it is recommended that the \fB\-\-setPowerConsumption\fR option is
used instead since it allows more levels of control.
This option and the \fB\-\-setPowerConsumption\fR option are incompatible
because they use the same mode page fields (1Ah\-01h).
.TP
WARNING: Seagate Power Balance may affect all LUNs/namespaces for devices
with multiple logical units or namespaces.
.HP
\fB\-\-showEPCSettings\fR
.IP
Use this option to show the current EPC settings on the screen.
Only drives supporting the EPC feature will show this data and
only supported power conditions will be shown.
.TP
\fB\-\-showPowerTelemetry\fR
(Seagate Only)
.IP
Use this option to show the power telemetry data from
a Seagate drive that supports the power telemetry feature
If a measurement was not previously requested, this will show
free\-running mode data from the last 10 minutes.
If this option is provided while a measurement is still
in progress, this will show all data that is currently available
Use the \fB\-\-requestPowerMeasurement\fR option to request a power
measurement with a set time window.
.TP
NOTE: Power measurements are for the full device, not individual
logical units. All logical units will be measured for this data.
.HP
\fB\-\-spinDown\fR
.IP
Removes power to the disk drive motor with the Standby Immediate
command. Use this before moving a hard disk drive. The drive
will spin back up if the operating system selects the drive.
This means that an active drive will not stay spun down.
.TP
WARNING: Spindown may affect all LUNs/namespaces for devices
with multiple logical units or namespaces.
.HP
\fB\-\-standby\fR [ enable | disable | default | timerValueMilliseconds ] (Some settings are SAS only)
.IP
Use this setting to change the standby power mode settings.
NOTE: This is the legacy standby timer before EPC drives.
.TP
If this is used on an EPC drive, this will modify
the standby_z power state and timer values.
.TP
enable
\- enable the power state    (SAS Only)
.TP
disable \- disable the power state
(SAS Only)
.TP
default \- restore default settings for this power state
(SAS Only)
.TP
timerValue \- number of milliseconds to set for the timer
used in this power state. If a timer is provided
the state will also be enabled, if not already.
Spec timers are set in 100 millisecond increments.
Timers will be truncated to fit 100 millisecond increments.
.IP
ATA drives can only change the standby timer, not disable it.
On ATA drives, the standby timer set by this command is volatile
and drive defaults are restored on next power cycle.
.TP
WARNING: EPC Settings may affect all LUNs/namespaces for devices
with multiple logical units or namespaces.
.HP
\fB\-\-standby_y\fR [ enable | disable | default | timerValueMilliseconds ]
.TP
Use this setting to change the EPC Standby_Y power mode settings.
enable  \- enable the power state
disable \- disable the power state
default \- restore default settings for this power state
timerValue \- number of milliseconds to set for the timer
.TP
used in this power state. If a timer is provided
the state will also be enabled, if not already.
EPC spec timers are set in 100 millisecond increments.
Timers will be truncated to fit 100 millisecond increments.
.TP
WARNING: EPC Settings may affect all LUNs/namespaces for devices
with multiple logical units or namespaces.
.HP
\fB\-\-standby_z\fR [ enable | disable | default | timerValueMilliseconds ]
.TP
Use this setting to change the EPC Standby_Z power mode settings.
enable  \- enable the power state
disable \- disable the power state
default \- restore default settings for this power state
timerValue \- number of milliseconds to set for the timer
.TP
used in this power state. If a timer is provided
the state will also be enabled, if not already.
EPC spec timers are set in 100 millisecond increments.
Timers will be truncated to fit 100 millisecond increments.
.TP
WARNING: EPC Settings may affect all LUNs/namespaces for devices
with multiple logical units or namespaces.
.HP
\fB\-\-transitionPower\fR [active | idle | idleUnload | standby | idle_a | idle_b | idle_c | standby_y | standby_z | sleep]
.IP
Use this option to transition the drive to a specific power state.
EPC and legacy power states are supported. EPC states are only available
on devices supporting the EPC feature.
Supported power states:
.IP
active
idle \- idle mode (legacy mode equivalent to idle_a on EPC)
idleUnload \- same as above, but heads are unloaded. This may not
.IP
be supported on all devices.
.IP
standby \- standby mode (legacy mode equivalent to standby_z on EPC)
idle_a \- EPC idle mode
idle_b \- EPC lower power idle mode
idle_c \- EPC lowest power idle mode
standby_y \- EPC low power standby mode
standby_z \- EPC lowest power standby mode
sleep \- Sleep state. WARNING: This requires a reset to wake from.
.TP
Once in this state, this tool cannot wake the drive on its own.
The OS or adapter will need to issue a reset, which may or may not happen.
.TP
WARNING: Transitioning power modes may affect all LUNs/namespaces
for devices with multiple logical units or namespaces.
.IP
SATA Only:
=========
\fB\-\-disableAPM\fR   (SATA Only)
.IP
Use this option to disable the APM feature on a device.
Note: This command is optional and some device may not
.IP
disabling the APM feature.
.TP
\fB\-\-sataDAPSfeature\fR [info | enable | disable]
(SATA Only)
.IP
Use this option to enable or disable the SATA Device Automatic
Partial To Slumber Transitions (DAPS) feature. Use the "info"
option to see the current state of the DIPM feature on the device.
The use of this feature requires that the DIPM feature is enabled.
NOTE: Please ensure that the host adapter/controller/driver can
handle this before enabling it, otherwise the drive link may
go down and the device will not be able to communicate.
.TP
\fB\-\-sataDIPMfeature\fR [info | enable | disable]
(SATA Only)
.IP
Use this option to enable or disable the SATA Device Initiated
Power Management (DIPM) feature. Use the "info" option to see
the current state of the DIPM feature on the device.
NOTE: Please ensure that the host adapter/controller/driver can
handle this before enabling it, otherwise the drive link may
go down and the device will not be able to communicate.
.TP
\fB\-\-setAPMLevel\fR [1 \- 254]
(SATA Only)
.IP
Use this option to set the APM level of a device.
Valid values are between 1 and 254.
.TP
1 = Minimum power consumption with standby mode
2\-127 = Intermediate power management with standby
.TP
mode
128 = Minimum power consumption without standby mode
129\-253 = Intermediate power management without
.TP
standby mode
254 = Maximum Performance.
.TP
\fB\-\-showAPMLevel\fR
(SATA Only)
.IP
Use this option to show the current APM level of a device
.IP
SAS Only:
=========
\fB\-\-idle\fR [ enable | disable | default | timerValueMilliseconds ]  (SAS Only)
.IP
Use this setting to change the idle power mode settings.
NOTE: This is the legacy idle timer before EPC drives.
.TP
If this is used on an EPC drive, this will modify
the idle_a power state and timer values.
.TP
enable
\- enable the power state
.TP
disable \- disable the power state
default \- restore default settings for this power state
timerValue \- number of milliseconds to set for the timer
.TP
used in this power state. If a timer is provided
the state will also be enabled, if not already.
Spec timers are set in 100 millisecond increments.
Timers will be truncated to fit 100 millisecond increments.
.IP
This is only available on SAS/SCSI drives as ATA drives did not
have a separate configurable idle timer.
.TP
WARNING: EPC Settings may affect all LUNs/namespaces for devices
with multiple logical units or namespaces.
.HP
\fB\-\-sasPhy\fR [phy number] (SAS Only)
.IP
Use this option to specify a specific phy to use
with another option that uses a phy identifier value.
Some tool options will assume all SAS Phys when this
option is not present. Others will produce an error when
a specific phy is needed for an operation.
Use the \fB\-i\fR option to learn more about the supported phys.
.HP
\fB\-\-sasPhyPartial\fR [info | enable | disable] (SAS Only)
.IP
Use this option to enable or disable the partial phy power
condition. This is from the enhanced phy control mode page.
Use the \fB\-\-sasPhy\fR option to specify an individual phy,
otherwise this will be changed on all phys.
WARNING: Configuring this setting may cause the drive to be
undetectable by other hardware if this power condition is not
supported by a controller or expander.
.TP
WARNING: Changing SAS Phy partial may affect all LUNs/namespaces for devices
with multiple logical units or namespaces.
.HP
\fB\-\-sasPhySlumber\fR [info | enable | disable] (SAS Only)
.IP
Use this option to enable or disable the slumber phy power
condition. This is from the enhanced phy control mode page.
Use the \fB\-\-sasPhy\fR option to specify an individual phy,
otherwise this will be changed on all phys.
WARNING: Configuring this setting may cause the drive to be
undetectable by other hardware if this power condition is not
supported by a controller or expander.
.TP
WARNING: Changing SAS Phy slumber may affect all LUNs/namespaces for devices
with multiple logical units or namespaces.
.TP
\fB\-\-setPowerConsumption\fR [default | highest | intermediate | lowest | watt value]
(SAS Only)
.IP
This option will set the power consumption rate of
the device to the value input.
Options:
\fB\-default\fR \- sets the device back to default settings
\fB\-highest\fR \- sets the active level to "highest"
\fB\-intermediate\fR \- sets the active level to "intermediate"
\fB\-lowest\fR \- sets the active level to "lowest"
\fB\-watt\fR value \- sets the device to a nearest watt value
less than or equal to the value entered.
Power consumption watt values are listed with the
\fB\-\-showPowerConsumption\fR command line option.
.TP
\fB\-\-showPowerConsumption\fR
(SAS Only)
.IP
This option will show the power consumption
rates supported by the device and the current power
consumption rate of the device. Use a supported watt value
with the \fB\-\-setPowerConsumption\fR option to set the
power consumption to that value.
.IP
NVMe Only:
=========
\fB\-\-showNVMPowerStates\fR    (NVMe Only)
.IP
Use this option to display a device's supported power states.
.TP
\fB\-\-transitionPowerState\fR [new power state]
(NVMe Only)
.IP
Use this option to transition to a specific power state.
WARNING: Transitioning the drive to a non\-operational power state
.TP
may make the device stop responding. The operating system
may or may not block this transition. It is recommended
to only use this option for operational power states
.IP
HINT:
.IP
Use \fB\-\-showNVMPowerStates\fR to view the supported states
.IP
Utility Version: 3.4.0
opensea\-common Version: 2.0.0
opensea\-transport Version: 6.2.0
opensea\-operations Version: 5.1.1
Build Date: Dec  1 2023
Compiled Architecture: X86_64
Detected Endianness: Little Endian
Compiler Used: GCC
Compiler Version: 7.5.0
Operating System Type: Linux
Operating System Version: 4.15.0\-211
Operating System Name: Ubuntu 18.04.6 LTS
